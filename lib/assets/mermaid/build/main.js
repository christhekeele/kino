import{J as w,b as f,c as h,sb as r}from"./chunk-ZRV56LX2.js";import{f as d}from"./chunk-JGKZPFWO.js";var b=d(f(),1),C=d(h(),1);var H=d(w(),1);r.initialize({startOnLoad:!1});function R(a,{diagram:p,caption:l,download:s}){a.importCSS("main.css");function c(){r.render("diagram",p).then(({svg:i,bindFunctions:m})=>{i=i.replace(/<br>/gi,"<br/>");let e=document.createElement("div");e.classList.add("container"),a.root.appendChild(e);let o=document.createElement("figure");if(o.classList.add("figure"),o.innerHTML=i,e.appendChild(o),l){let t=document.createElement("figcaption");t.classList.add("caption"),t.textContent=l,o.appendChild(t)}if(s){let t=document.createElement("button");t.classList.add("download-btn"),t.title="Download",t.innerHTML='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13 10H18L12 16L6 10H11V3H13V10ZM4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19Z"></path></svg>',e.appendChild(t),t.addEventListener("click",v=>{let g=URL.createObjectURL(new Blob([i],{type:"image/svg+xml"})),n=document.createElement("a");n.style.display="none",n.href=g,n.download="diagram.svg",e.appendChild(n),n.click(),e.removeChild(n)})}m&&m(a.root),o.querySelector("svg").removeAttribute("height")})}window.innerWidth===0?window.addEventListener("resize",()=>c(),{once:!0}):c()}export{R as init};
